2025-04-10 15:00:17,174 - werkzeug - WARNING -  * Debugger is active!
2025-04-10 15:00:17,177 - werkzeug - INFO -  * Debugger PIN: 691-175-853
2025-04-10 15:00:40,622 - Review.reviews.lc100_review - INFO - Loading EOD data...
2025-04-10 15:00:42,441 - Review.reviews.lc100_review - INFO - Loading reference data...
2025-04-10 15:00:46,298 - Review.reviews.lc100_review - ERROR - Error during review calculation: Failed to load icb_df from reference data
2025-04-10 15:00:46,299 - Review.reviews.lc100_review - ERROR - Traceback (most recent call last):
  File "C:\Users\CSonneveld\OneDrive - Euronext\Documents\Projects\GUI + Reviews\Review\reviews\lc100_review.py", line 73, in run_lc100_review
    raise ValueError(f"Failed to load {df_name} from reference data")
ValueError: Failed to load icb_df from reference data

2025-04-10 15:00:46,312 - werkzeug - INFO - 127.0.0.1 - - [10/Apr/2025 15:00:46] "POST /calculate HTTP/1.1" 200 -
2025-04-10 15:01:12,194 - Review.reviews.lc100_review - INFO - Loading EOD data...
2025-04-10 15:01:14,140 - Review.reviews.lc100_review - INFO - Loading reference data...
2025-04-10 15:01:23,717 - Review.reviews.lc100_review - WARNING - Removed 18750 duplicate rows from cdp_climate_df
2025-04-10 15:01:23,719 - Review.reviews.lc100_review - INFO - Filtering universe for EU500 companies...
2025-04-10 15:01:23,720 - Review.reviews.lc100_review - INFO - Universe size after EU500 filter: 499
2025-04-10 15:01:23,720 - Review.reviews.lc100_review - INFO - Adding Free Float data...
2025-04-10 15:01:23,723 - Review.reviews.lc100_review - INFO - Adding ICB Subsector data...
2025-04-10 15:01:23,737 - Review.reviews.lc100_review - WARNING - Removed 9316 duplicate rows from ICB data
2025-04-10 15:01:23,829 - Review.reviews.lc100_review - INFO - Debug file saved to C:\Users\CSonneveld\OneDrive - Euronext\Documents\Projects\GUI + Reviews\debug\universe_df_after_nace_20250410_150123.xlsx
2025-04-10 15:01:23,830 - Review.reviews.lc100_review - INFO - Adding CDP Climate data...
2025-04-10 15:01:23,834 - Review.reviews.lc100_review - INFO - Adding Oekom Trust & Carbon data...
2025-04-10 15:01:23,835 - Review.reviews.lc100_review - WARNING - Column 'Social Rating Numeric' not found in Oekom data. Skipping this column.
2025-04-10 15:01:23,835 - Review.reviews.lc100_review - WARNING - Column 'Governance Rating Numeric' not found in Oekom data. Skipping this column.
2025-04-10 15:01:23,837 - Review.reviews.lc100_review - INFO - Adding NACE data...
2025-04-10 15:01:23,839 - Review.reviews.lc100_review - INFO - Adding EU Taxonomy flag...
2025-04-10 15:01:23,840 - Review.reviews.lc100_review - INFO - Checking GAFI lists and Non-fiscally cooperative countries...
2025-04-10 15:01:23,842 - Review.reviews.lc100_review - INFO - Applying exclusion criteria...
2025-04-10 15:01:23,868 - Review.reviews.lc100_review - INFO - Calculating Climate Score for ranking...
2025-04-10 15:01:23,870 - Review.reviews.lc100_review - INFO - Selecting EU Taxonomy companies...
2025-04-10 15:01:23,871 - Review.reviews.lc100_review - INFO - Found 14 EU Taxonomy companies after exclusions
2025-04-10 15:01:23,872 - Review.reviews.lc100_review - INFO - Found 353 Non-EU Taxonomy eligible companies after exclusions
2025-04-10 15:01:23,873 - Review.reviews.lc100_review - INFO - Target number of constituents: 100
2025-04-10 15:01:23,873 - Review.reviews.lc100_review - INFO - Number of EU Taxonomy companies: 14
2025-04-10 15:01:23,873 - Review.reviews.lc100_review - INFO - Target number of Non-EU Taxonomy companies: 86
2025-04-10 15:01:23,896 - Review.reviews.lc100_review - INFO - Super-sector allocation: 
    Supersector  Count  Target
0        1010.0     19       5
1        1510.0     18       5
2        2010.0     43      11
3        3010.0     45      11
4        3020.0     31       8
5        3030.0     30       8
6        3510.0     20       5
7        4010.0      8       2
8        4020.0     22       6
9        4030.0      9       3
10       4040.0      9       3
11       4050.0     12       3
12       4510.0     21       6
13       4520.0      8       2
14       5010.0      6       2
15       5020.0     40      10
16       5510.0      4       1
17       5520.0      7       2
18       6510.0      1       1
2025-04-10 15:01:23,908 - Review.reviews.lc100_review - INFO - Selected 94 companies, need to remove 8
2025-04-10 15:01:23,912 - Review.reviews.lc100_review - INFO - Removed 8 companies, new total: 86
2025-04-10 15:01:23,914 - Review.reviews.lc100_review - INFO - Final selection contains 100 companies
2025-04-10 15:01:23,914 - Review.reviews.lc100_review - INFO - - EU Taxonomy: 14
2025-04-10 15:01:23,914 - Review.reviews.lc100_review - INFO - - Non-EU Taxonomy: 86
2025-04-10 15:01:23,914 - Review.reviews.lc100_review - INFO - Initial weight allocations:
2025-04-10 15:01:23,914 - Review.reviews.lc100_review - INFO - - EU Taxonomy pocket: 10.00%
2025-04-10 15:01:23,915 - Review.reviews.lc100_review - INFO - - Non-EU Taxonomy pocket: 90.00%
2025-04-10 15:01:23,916 - Review.reviews.lc100_review - INFO - Saving output files...
2025-04-10 15:01:24,167 - Review.reviews.lc100_review - INFO - Results saved to C:\Users\CSonneveld\OneDrive - Euronext\Documents\Projects\GUI + Reviews\output\LC100_review_20250410_150123.xlsx
2025-04-10 15:01:24,196 - werkzeug - INFO - 127.0.0.1 - - [10/Apr/2025 15:01:24] "POST /calculate HTTP/1.1" 200 -
2025-04-10 15:02:44,821 - werkzeug - INFO -  * Detected change in 'C:\\Users\\CSonneveld\\OneDrive - Euronext\\Documents\\Projects\\GUI + Reviews\\Review\\reviews\\lc100_review.py', reloading
2025-04-10 15:02:44,823 - werkzeug - INFO -  * Detected change in 'C:\\Users\\CSonneveld\\OneDrive - Euronext\\Documents\\Projects\\GUI + Reviews\\Review\\reviews\\lc100_review.py', reloading
2025-04-10 15:02:44,824 - werkzeug - INFO -  * Detected change in 'C:\\Users\\CSonneveld\\OneDrive - Euronext\\Documents\\Projects\\GUI + Reviews\\Review\\reviews\\lc100_review.py', reloading
