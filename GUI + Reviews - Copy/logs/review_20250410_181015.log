2025-04-10 18:10:15,702 - werkzeug - WARNING -  * Debugger is active!
2025-04-10 18:10:15,704 - werkzeug - INFO -  * Debugger PIN: 691-175-853
2025-04-10 18:10:16,515 - Review.reviews.lc100_review - INFO - Loading EOD data...
2025-04-10 18:10:17,147 - Review.reviews.lc100_review - INFO - Loading reference data...
2025-04-10 18:10:20,767 - Review.reviews.lc100_review - ERROR - Error during review calculation: Failed to load icb_df from reference data
2025-04-10 18:10:20,767 - Review.reviews.lc100_review - ERROR - Traceback (most recent call last):
  File "C:\Users\CSonneveld\OneDrive - Euronext\Documents\Projects\GUI + Reviews\Review\reviews\lc100_review.py", line 73, in run_lc100_review
    raise ValueError(f"Failed to load {df_name} from reference data")
ValueError: Failed to load icb_df from reference data

2025-04-10 18:10:20,777 - werkzeug - INFO - 127.0.0.1 - - [10/Apr/2025 18:10:20] "POST /calculate HTTP/1.1" 200 -
2025-04-10 18:10:22,401 - Review.reviews.lc100_review - INFO - Loading EOD data...
2025-04-10 18:10:23,078 - Review.reviews.lc100_review - INFO - Loading reference data...
2025-04-10 18:10:32,661 - Review.reviews.lc100_review - WARNING - Removed 18750 duplicate rows from cdp_climate_df
2025-04-10 18:10:32,663 - Review.reviews.lc100_review - INFO - Filtering universe for EU500 companies...
2025-04-10 18:10:32,664 - Review.reviews.lc100_review - INFO - Universe size after EU500 filter: 499
2025-04-10 18:10:32,664 - Review.reviews.lc100_review - INFO - Adding Free Float data...
2025-04-10 18:10:32,667 - Review.reviews.lc100_review - INFO - Adding ICB Subsector data...
2025-04-10 18:10:32,683 - Review.reviews.lc100_review - WARNING - Removed 9316 duplicate rows from ICB data
2025-04-10 18:10:32,777 - Review.reviews.lc100_review - INFO - Debug file saved to C:\Users\CSonneveld\OneDrive - Euronext\Documents\Projects\GUI + Reviews\debug\universe_df_after_nace_20250410_181032.xlsx
2025-04-10 18:10:32,778 - Review.reviews.lc100_review - INFO - Adding CDP Climate data...
2025-04-10 18:10:32,783 - Review.reviews.lc100_review - INFO - Adding Oekom Trust & Carbon data...
2025-04-10 18:10:32,786 - Review.reviews.lc100_review - INFO - Adding NACE data...
2025-04-10 18:10:32,788 - Review.reviews.lc100_review - INFO - Adding EU Taxonomy flag...
2025-04-10 18:10:32,789 - Review.reviews.lc100_review - INFO - Checking GAFI lists and Non-fiscally cooperative countries...
2025-04-10 18:10:32,790 - Review.reviews.lc100_review - INFO - Applying exclusion criteria...
2025-04-10 18:10:32,798 - Review.reviews.lc100_review - INFO - Marked 50 companies (10%) with worst SG scores for exclusion
2025-04-10 18:10:32,816 - Review.reviews.lc100_review - INFO - Calculating Climate Score for ranking...
2025-04-10 18:10:32,817 - Review.reviews.lc100_review - INFO - Selecting EU Taxonomy companies...
2025-04-10 18:10:32,818 - Review.reviews.lc100_review - INFO - Found 14 EU Taxonomy companies after exclusions
2025-04-10 18:10:32,819 - Review.reviews.lc100_review - INFO - Found 302 Non-EU Taxonomy eligible companies after exclusions
2025-04-10 18:10:32,820 - Review.reviews.lc100_review - INFO - Target number of constituents: 100
2025-04-10 18:10:32,820 - Review.reviews.lc100_review - INFO - Number of EU Taxonomy companies: 14
2025-04-10 18:10:32,820 - Review.reviews.lc100_review - INFO - Target number of Non-EU Taxonomy companies: 86
2025-04-10 18:10:32,837 - Review.reviews.lc100_review - INFO - Super-sector allocation: 
    Supersector  Count  Target
0        1010.0     14       4
1        1510.0     17       5
2        2010.0     42      12
3        3010.0     45      13
4        3020.0     22       7
5        3030.0     26       8
6        3510.0     16       5
7        4010.0      6       2
8        4020.0     18       6
9        4030.0      8       3
10       4040.0      5       2
11       4050.0     11       4
12       4510.0     19       6
13       4520.0      8       3
14       5010.0      5       2
15       5020.0     29       9
16       5510.0      4       2
17       5520.0      6       2
18       6510.0      1       1
2025-04-10 18:10:32,849 - Review.reviews.lc100_review - INFO - Selected 96 companies, need to remove 10
2025-04-10 18:10:32,853 - Review.reviews.lc100_review - INFO - Removed 10 companies, new total: 86
2025-04-10 18:10:32,855 - Review.reviews.lc100_review - INFO - Final selection contains 100 companies
2025-04-10 18:10:32,856 - Review.reviews.lc100_review - INFO - - EU Taxonomy: 14
2025-04-10 18:10:32,856 - Review.reviews.lc100_review - INFO - - Non-EU Taxonomy: 86
2025-04-10 18:10:32,856 - Review.reviews.lc100_review - INFO - Initial weight allocations:
2025-04-10 18:10:32,856 - Review.reviews.lc100_review - INFO - - EU Taxonomy pocket: 10.00%
2025-04-10 18:10:32,856 - Review.reviews.lc100_review - INFO - - Non-EU Taxonomy pocket: 90.00%
2025-04-10 18:10:32,857 - Review.reviews.lc100_review - INFO - Saving output files...
2025-04-10 18:10:33,114 - Review.reviews.lc100_review - INFO - Results saved to C:\Users\CSonneveld\OneDrive - Euronext\Documents\Projects\GUI + Reviews\output\LC100_review_20250410_181032.xlsx
2025-04-10 18:10:33,143 - werkzeug - INFO - 127.0.0.1 - - [10/Apr/2025 18:10:33] "POST /calculate HTTP/1.1" 200 -
2025-04-10 18:14:04,484 - werkzeug - INFO -  * Detected change in 'C:\\Users\\CSonneveld\\OneDrive - Euronext\\Documents\\Projects\\GUI + Reviews\\Review\\reviews\\lc100_review.py', reloading
2025-04-10 18:14:04,485 - werkzeug - INFO -  * Detected change in 'C:\\Users\\CSonneveld\\OneDrive - Euronext\\Documents\\Projects\\GUI + Reviews\\Review\\reviews\\lc100_review.py', reloading
2025-04-10 18:14:04,486 - werkzeug - INFO -  * Detected change in 'C:\\Users\\CSonneveld\\OneDrive - Euronext\\Documents\\Projects\\GUI + Reviews\\Review\\reviews\\lc100_review.py', reloading
2025-04-10 18:14:04,487 - werkzeug - INFO -  * Detected change in 'C:\\Users\\CSonneveld\\OneDrive - Euronext\\Documents\\Projects\\GUI + Reviews\\Review\\reviews\\lc100_review.py', reloading
