2025-04-11 10:04:06,462 - werkzeug - WARNING -  * Debugger is active!
2025-04-11 10:04:06,465 - werkzeug - INFO -  * Debugger PIN: 691-175-853
2025-04-11 10:36:54,137 - Review.reviews.lc100_review - INFO - Loading EOD data...
2025-04-11 10:36:56,307 - Review.reviews.lc100_review - INFO - Loading reference data...
2025-04-11 10:37:04,663 - Review.reviews.lc100_review - ERROR - Error during review calculation: Failed to load oekom_trustcarbon_df from reference data
2025-04-11 10:37:04,664 - Review.reviews.lc100_review - ERROR - Traceback (most recent call last):
  File "C:\Users\CSonneveld\OneDrive - Euronext\Documents\Projects\GUI + Reviews\Review\reviews\lc100_review.py", line 73, in run_lc100_review
    raise ValueError(f"Failed to load {df_name} from reference data")
ValueError: Failed to load oekom_trustcarbon_df from reference data

2025-04-11 10:37:04,687 - werkzeug - INFO - 127.0.0.1 - - [11/Apr/2025 10:37:04] "POST /calculate HTTP/1.1" 200 -
2025-04-11 10:37:09,719 - Review.reviews.lc100_review - INFO - Loading EOD data...
2025-04-11 10:37:11,970 - Review.reviews.lc100_review - INFO - Loading reference data...
2025-04-11 10:37:21,501 - Review.reviews.lc100_review - WARNING - Removed 18750 duplicate rows from cdp_climate_df
2025-04-11 10:37:21,507 - Review.reviews.lc100_review - INFO - Filtering universe for EU500 companies...
2025-04-11 10:37:21,511 - Review.reviews.lc100_review - INFO - Universe size after EU500 filter: 499
2025-04-11 10:37:21,512 - Review.reviews.lc100_review - INFO - Adding Free Float data...
2025-04-11 10:37:21,527 - Review.reviews.lc100_review - INFO - Adding ICB Subsector data...
2025-04-11 10:37:21,545 - Review.reviews.lc100_review - WARNING - Removed 9316 duplicate rows from ICB data
2025-04-11 10:37:21,666 - Review.reviews.lc100_review - INFO - Debug file saved to C:\Users\CSonneveld\OneDrive - Euronext\Documents\Projects\GUI + Reviews\debug\universe_df_after_nace_20250411_103721.xlsx
2025-04-11 10:37:21,666 - Review.reviews.lc100_review - INFO - Adding CDP Climate data...
2025-04-11 10:37:21,671 - Review.reviews.lc100_review - INFO - Adding Oekom Trust & Carbon data...
2025-04-11 10:37:21,674 - Review.reviews.lc100_review - INFO - Adding NACE data...
2025-04-11 10:37:21,677 - Review.reviews.lc100_review - INFO - Adding EU Taxonomy flag...
2025-04-11 10:37:21,681 - Review.reviews.lc100_review - INFO - Checking GAFI lists and Non-fiscally cooperative countries...
2025-04-11 10:37:21,682 - Review.reviews.lc100_review - INFO - Applying exclusion criteria...
2025-04-11 10:37:21,697 - Review.reviews.lc100_review - INFO - Marked 50 companies (10%) with worst SG scores for exclusion
2025-04-11 10:37:21,716 - Review.reviews.lc100_review - INFO - Calculating Climate Score for ranking...
2025-04-11 10:37:21,718 - Review.reviews.lc100_review - INFO - Selecting EU Taxonomy companies...
2025-04-11 10:37:21,719 - Review.reviews.lc100_review - INFO - Found 13 EU Taxonomy companies after exclusions
2025-04-11 10:37:21,720 - Review.reviews.lc100_review - INFO - Found 303 Non-EU Taxonomy eligible companies after exclusions
2025-04-11 10:37:21,721 - Review.reviews.lc100_review - INFO - STEP 4a: Determining target number of Non-EU Taxonomy companies per super-sector...
2025-04-11 10:37:21,721 - Review.reviews.lc100_review - INFO - Target number of Non-EU Taxonomy companies: 87
2025-04-11 10:37:21,724 - Review.reviews.lc100_review - INFO - Total eligible Non-EU Taxonomy companies: 303
2025-04-11 10:37:21,725 - Review.reviews.lc100_review - INFO - Total target after rounding: 98 (vs. target of 87)
2025-04-11 10:37:21,726 - Review.reviews.lc100_review - INFO - Need to remove 11 companies due to rounding up
2025-04-11 10:37:21,728 - Review.reviews.lc100_review - INFO - STEP 4b: Selecting Non-EU Taxonomy companies based on climate score...
2025-04-11 10:37:21,728 - Review.reviews.lc100_review - INFO - Selected 5 companies from super-sector 1010.0
2025-04-11 10:37:21,729 - Review.reviews.lc100_review - INFO - Selected 5 companies from super-sector 1510.0
2025-04-11 10:37:21,730 - Review.reviews.lc100_review - INFO - Selected 13 companies from super-sector 2010.0
2025-04-11 10:37:21,731 - Review.reviews.lc100_review - INFO - Selected 13 companies from super-sector 3010.0
2025-04-11 10:37:21,731 - Review.reviews.lc100_review - INFO - Selected 7 companies from super-sector 3020.0
2025-04-11 10:37:21,732 - Review.reviews.lc100_review - INFO - Selected 8 companies from super-sector 3030.0
2025-04-11 10:37:21,732 - Review.reviews.lc100_review - INFO - Selected 5 companies from super-sector 3510.0
2025-04-11 10:37:21,733 - Review.reviews.lc100_review - INFO - Selected 2 companies from super-sector 4010.0
2025-04-11 10:37:21,733 - Review.reviews.lc100_review - INFO - Selected 6 companies from super-sector 4020.0
2025-04-11 10:37:21,734 - Review.reviews.lc100_review - INFO - Selected 3 companies from super-sector 4030.0
2025-04-11 10:37:21,735 - Review.reviews.lc100_review - INFO - Selected 2 companies from super-sector 4040.0
2025-04-11 10:37:21,735 - Review.reviews.lc100_review - INFO - Selected 4 companies from super-sector 4050.0
2025-04-11 10:37:21,735 - Review.reviews.lc100_review - INFO - Selected 6 companies from super-sector 4510.0
2025-04-11 10:37:21,736 - Review.reviews.lc100_review - INFO - Selected 3 companies from super-sector 4520.0
2025-04-11 10:37:21,736 - Review.reviews.lc100_review - INFO - Selected 2 companies from super-sector 5010.0
2025-04-11 10:37:21,737 - Review.reviews.lc100_review - INFO - Selected 9 companies from super-sector 5020.0
2025-04-11 10:37:21,737 - Review.reviews.lc100_review - INFO - Selected 2 companies from super-sector 5510.0
2025-04-11 10:37:21,738 - Review.reviews.lc100_review - INFO - Selected 2 companies from super-sector 5520.0
2025-04-11 10:37:21,739 - Review.reviews.lc100_review - INFO - Selected 1 companies from super-sector 6510.0
2025-04-11 10:37:21,746 - Review.reviews.lc100_review - INFO - Initial selection has 98 companies, need to remove 11
2025-04-11 10:37:21,752 - Review.reviews.lc100_review - INFO - Removed company SE0012853455 from supersector 3020.0 (Climate Score: 2.9711404728789947)
2025-04-11 10:37:21,757 - Review.reviews.lc100_review - INFO - Removed company GB0005405286 from supersector 3010.0 (Climate Score: 2.6866666666666648)
2025-04-11 10:37:21,761 - Review.reviews.lc100_review - INFO - Removed company GB0004082847 from supersector 3010.0 (Climate Score: 2.585)
2025-04-11 10:37:21,767 - Review.reviews.lc100_review - INFO - Removed company GB00BY9D0Y18 from supersector 3030.0 (Climate Score: 2.516321632368115)
2025-04-11 10:37:21,772 - Review.reviews.lc100_review - INFO - Removed company NO0003053605 from supersector 3030.0 (Climate Score: 2.45999707128425)
2025-04-11 10:37:21,777 - Review.reviews.lc100_review - INFO - Removed company GB00BM8PJY71 from supersector 3010.0 (Climate Score: 2.4596710826767954)
2025-04-11 10:37:21,781 - Review.reviews.lc100_review - INFO - Removed company GB00BYT1DJ19 from supersector 3020.0 (Climate Score: 2.458257086886375)
2025-04-11 10:37:21,787 - Review.reviews.lc100_review - INFO - Removed company GB00B0SWJX34 from supersector 3020.0 (Climate Score: 2.4582204139462247)
2025-04-11 10:37:21,792 - Review.reviews.lc100_review - INFO - Removed company GB0007099541 from supersector 3030.0 (Climate Score: 2.45)
2025-04-11 10:37:21,797 - Review.reviews.lc100_review - INFO - Removed company CH0011075394 from supersector 3030.0 (Climate Score: 2.39833333333333)
2025-04-11 10:37:21,802 - Review.reviews.lc100_review - INFO - Removed company FR0000121964 from supersector 3510.0 (Climate Score: 2.39735760225878)
2025-04-11 10:37:21,804 - Review.reviews.lc100_review - INFO - Final Non-EU Taxonomy selection has 87 companies
2025-04-11 10:37:21,805 - Review.reviews.lc100_review - INFO - Minimum companies per supersector: 1
2025-04-11 10:37:21,805 - Review.reviews.lc100_review - WARNING - Some supersectors have fewer than 2 companies! Minimum is 1
2025-04-11 10:37:21,807 - Review.reviews.lc100_review - INFO - Final selection contains 100 companies
2025-04-11 10:37:21,807 - Review.reviews.lc100_review - INFO - - EU Taxonomy: 13
2025-04-11 10:37:21,807 - Review.reviews.lc100_review - INFO - - Non-EU Taxonomy: 87
2025-04-11 10:37:21,807 - Review.reviews.lc100_review - INFO - Adding PAB flag based on CDP temperature score...
2025-04-11 10:37:21,808 - Review.reviews.lc100_review - INFO - Calculating liquidity constraints for all companies...
2025-04-11 10:37:21,808 - Review.reviews.lc100_review - INFO - Total FFMC for all companies: 3595475201954.70
2025-04-11 10:37:21,809 - Review.reviews.lc100_review - INFO - Market cap based weights calculated for EU Taxonomy companies
2025-04-11 10:37:21,811 - Review.reviews.lc100_review - INFO - Liquidity caps for EU Taxonomy companies - Max: 5.7770%, Min: 0.6038%, Avg: 2.0695%
2025-04-11 10:37:21,811 - Review.reviews.lc100_review - INFO - Liquidity floors for EU Taxonomy companies - Max: 0.0000%, Min: 0.0000%, Avg: 0.0000%
2025-04-11 10:37:21,811 - Review.reviews.lc100_review - INFO - No liquidity issues found for EU Taxonomy companies
2025-04-11 10:37:21,814 - Review.reviews.lc100_review - INFO - Liquidity caps for Non-EU Taxonomy companies - Max: 10.0000%, Min: 0.2646%, Avg: 2.6668%
2025-04-11 10:37:21,815 - Review.reviews.lc100_review - INFO - Liquidity floors for Non-EU Taxonomy companies - Max: 1.4819%, Min: 0.0000%, Avg: 0.0366%
2025-04-11 10:37:21,815 - Review.reviews.lc100_review - INFO - No liquidity issues found for Non-EU Taxonomy companies
2025-04-11 10:37:21,818 - Review.reviews.lc100_review - INFO - Liquidity constraints have been calculated for all 100 companies
2025-04-11 10:37:21,818 - Review.reviews.lc100_review - INFO - Saving output files...
2025-04-11 10:37:22,297 - Review.reviews.lc100_review - INFO - Results saved to C:\Users\CSonneveld\OneDrive - Euronext\Documents\Projects\GUI + Reviews\output\LC100_review_20250411_103721.xlsx
2025-04-11 10:37:22,333 - werkzeug - INFO - 127.0.0.1 - - [11/Apr/2025 10:37:22] "POST /calculate HTTP/1.1" 200 -
2025-04-11 11:03:23,643 - werkzeug - INFO -  * Detected change in 'C:\\Users\\CSonneveld\\OneDrive - Euronext\\Documents\\Projects\\GUI + Reviews\\Review\\reviews\\lc100_review.py', reloading
2025-04-11 11:03:23,643 - werkzeug - INFO -  * Detected change in 'C:\\Users\\CSonneveld\\OneDrive - Euronext\\Documents\\Projects\\GUI + Reviews\\Review\\reviews\\lc100_review.py', reloading
2025-04-11 11:03:23,643 - werkzeug - INFO -  * Detected change in 'C:\\Users\\CSonneveld\\OneDrive - Euronext\\Documents\\Projects\\GUI + Reviews\\Review\\reviews\\lc100_review.py', reloading
