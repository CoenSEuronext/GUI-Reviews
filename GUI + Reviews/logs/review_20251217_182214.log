2025-12-17 18:22:15,272 - werkzeug - WARNING -  * Debugger is active!
2025-12-17 18:22:15,275 - werkzeug - INFO -  * Debugger PIN: 691-175-853
2025-12-17 18:22:15,318 - werkzeug - INFO - 127.0.0.1 - - [17/Dec/2025 18:22:15] "GET /task-status/3e792244-3cec-44d0-8611-950954930e67 HTTP/1.1" 200 -
2025-12-17 18:22:16,447 - werkzeug - INFO - 127.0.0.1 - - [17/Dec/2025 18:22:16] "POST /calculate-batch HTTP/1.1" 200 -
2025-12-17 18:22:16,465 - Review.reviews.aexat_review - INFO - Loading EOD data...
2025-12-17 18:22:16,469 - werkzeug - INFO - 127.0.0.1 - - [17/Dec/2025 18:22:16] "GET /task-status/a8265f4f-abaf-4563-b067-768203066e3b HTTP/1.1" 200 -
2025-12-17 18:22:16,839 - Review.reviews.aexat_review - INFO - Loading reference data...
2025-12-17 18:22:17,031 - Review.reviews.aexat_review - INFO - Loaded 75 companies from AEX, AMX, and AScX
2025-12-17 18:22:17,059 - Review.reviews.aexat_review - INFO - Applied 15% capping. Companies capped: 74
2025-12-17 18:22:17,065 - Review.reviews.aexat_review - INFO - Saving AEXAT output to: C:\Users\CSonneveld\OneDrive - Euronext\Documents\Projects\GUI + Reviews\output\AEXAT_df_20251217_182217.xlsx
2025-12-17 18:22:17,234 - Review.reviews.aetaw_review - INFO - Loading EOD data...
2025-12-17 18:22:17,672 - Review.reviews.aetaw_review - INFO - Loading reference data...
2025-12-17 18:22:17,749 - Review.reviews.aetaw_review - INFO - Loaded 75 companies from AEX, AMX, and AScX
2025-12-17 18:22:17,789 - Review.reviews.aetaw_review - INFO - 
Initial weights calculated. Starting two-step capping process...
2025-12-17 18:22:17,789 - Review.reviews.aetaw_review - INFO - 
========== STEP 1: Cap all companies at 9% ==========
2025-12-17 18:22:17,789 - Review.reviews.aetaw_review - INFO - 
--- Step 1, Iteration 1 ---
2025-12-17 18:22:17,789 - Review.reviews.aetaw_review - INFO - Capped 3 companies at 9%
2025-12-17 18:22:17,789 - Review.reviews.aetaw_review - INFO - Excess weight: 26.00%
2025-12-17 18:22:17,789 - Review.reviews.aetaw_review - INFO - Redistributed to 72 companies below 9%
2025-12-17 18:22:17,789 - Review.reviews.aetaw_review - INFO - Max weight change: 18.8032%
2025-12-17 18:22:17,789 - Review.reviews.aetaw_review - INFO - 
--- Step 1, Iteration 2 ---
2025-12-17 18:22:17,796 - Review.reviews.aetaw_review - INFO - Max weight change: 0.0000%
2025-12-17 18:22:17,796 - Review.reviews.aetaw_review - INFO - [SUCCESS] Step 1 converged after 2 iterations
2025-12-17 18:22:17,796 - Review.reviews.aetaw_review - INFO - 
Step 1 complete: 3 companies at 9%
2025-12-17 18:22:17,796 - Review.reviews.aetaw_review - INFO - 
========== STEP 2: Apply collective constraint (36% rule) ==========
2025-12-17 18:22:17,799 - Review.reviews.aetaw_review - INFO - Top 4 companies by initial market cap (protected at 9%):
2025-12-17 18:22:17,799 - Review.reviews.aetaw_review - INFO -   1. ASML HOLDING: Initial 27.80%, After Step 1: 9.00%
2025-12-17 18:22:17,799 - Review.reviews.aetaw_review - INFO -   2. SHELL PLC: Initial 14.66%, After Step 1: 9.00%
2025-12-17 18:22:17,799 - Review.reviews.aetaw_review - INFO -   3. UNILEVER: Initial 10.54%, After Step 1: 9.00%
2025-12-17 18:22:17,799 - Review.reviews.aetaw_review - INFO -   4. ING GROEP N.V.: Initial 5.72%, After Step 1: 8.88%
2025-12-17 18:22:17,799 - Review.reviews.aetaw_review - INFO - 
--- Step 2, Iteration 1 ---
2025-12-17 18:22:17,805 - Review.reviews.aetaw_review - INFO - Capped 3 companies (outside top 4) to 4.5%
2025-12-17 18:22:17,805 - Review.reviews.aetaw_review - INFO - Total companies locked at 4.5%: 3
2025-12-17 18:22:17,806 - Review.reviews.aetaw_review - INFO - Excess weight: 8.52%
2025-12-17 18:22:17,806 - Review.reviews.aetaw_review - INFO - Redistributed to 68 companies (not locked at 4.5%)
2025-12-17 18:22:17,807 - Review.reviews.aetaw_review - INFO -   WARNING: 1 companies (outside top 4) now ABOVE 4.5% after redistribution
2025-12-17 18:22:17,807 - Review.reviews.aetaw_review - INFO - Max weight change: 3.9504%
2025-12-17 18:22:17,807 - Review.reviews.aetaw_review - INFO - 
--- Step 2, Iteration 2 ---
2025-12-17 18:22:17,808 - Review.reviews.aetaw_review - INFO - Capped 1 companies (outside top 4) to 4.5%
2025-12-17 18:22:17,808 - Review.reviews.aetaw_review - INFO - Total companies locked at 4.5%: 4
2025-12-17 18:22:17,808 - Review.reviews.aetaw_review - INFO - Excess weight: 0.25%
2025-12-17 18:22:17,809 - Review.reviews.aetaw_review - INFO - Redistributed to 67 companies (not locked at 4.5%)
2025-12-17 18:22:17,809 - Review.reviews.aetaw_review - INFO - Max weight change: 0.2481%
2025-12-17 18:22:17,809 - Review.reviews.aetaw_review - INFO - 
--- Step 2, Iteration 3 ---
2025-12-17 18:22:17,809 - Review.reviews.aetaw_review - INFO - Max weight change: 0.0000%
2025-12-17 18:22:17,809 - Review.reviews.aetaw_review - INFO - [SUCCESS] Step 2 converged after 3 iterations
2025-12-17 18:22:17,809 - Review.reviews.aetaw_review - INFO - 
========== Final Results ==========
2025-12-17 18:22:17,809 - Review.reviews.aetaw_review - INFO - Companies at 9.00%: 3
2025-12-17 18:22:17,809 - Review.reviews.aetaw_review - INFO - Companies locked at 4.50%: 4
2025-12-17 18:22:17,809 - Review.reviews.aetaw_review - INFO - Total weight OVER 4.5%: 35.88% (limit: 36.00%)
2025-12-17 18:22:17,809 - Review.reviews.aetaw_review - INFO - [SUCCESS] Collective cap satisfied
2025-12-17 18:22:17,809 - Review.reviews.aetaw_review - INFO - AETAW capping complete. Companies with CF < 1: 65
2025-12-17 18:22:17,818 - Review.reviews.aetaw_review - INFO - Saving AETAW output to: C:\Users\CSonneveld\OneDrive - Euronext\Documents\Projects\GUI + Reviews\output\AETAW_df_20251217_182217.xlsx
2025-12-17 18:22:17,979 - Review.reviews.efesp_review - INFO - Loading EOD data...
2025-12-17 18:22:18,412 - Review.reviews.efesp_review - INFO - Loading reference data...
2025-12-17 18:22:18,486 - werkzeug - INFO - 127.0.0.1 - - [17/Dec/2025 18:22:18] "GET /task-status/a8265f4f-abaf-4563-b067-768203066e3b HTTP/1.1" 200 -
2025-12-17 18:22:20,489 - werkzeug - INFO - 127.0.0.1 - - [17/Dec/2025 18:22:20] "GET /task-status/a8265f4f-abaf-4563-b067-768203066e3b HTTP/1.1" 200 -
2025-12-17 18:22:22,471 - werkzeug - INFO - 127.0.0.1 - - [17/Dec/2025 18:22:22] "GET /task-status/a8265f4f-abaf-4563-b067-768203066e3b HTTP/1.1" 200 -
2025-12-17 18:22:24,480 - werkzeug - INFO - 127.0.0.1 - - [17/Dec/2025 18:22:24] "GET /task-status/a8265f4f-abaf-4563-b067-768203066e3b HTTP/1.1" 200 -
2025-12-17 18:22:26,530 - werkzeug - INFO - 127.0.0.1 - - [17/Dec/2025 18:22:26] "GET /task-status/a8265f4f-abaf-4563-b067-768203066e3b HTTP/1.1" 200 -
2025-12-17 18:22:27,616 - Review.reviews.efesp_review - INFO - Creating eligible companies dataframe...
2025-12-17 18:22:27,630 - Review.reviews.efesp_review - INFO - Group 1 (ICB 501010): 5 selected out of 23 companies
2025-12-17 18:22:27,646 - Review.reviews.efesp_review - INFO - Group 2 (ICB 502010): 5 selected out of 15 companies
2025-12-17 18:22:27,649 - Review.reviews.efesp_review - INFO - Group 3 (ICB 502040): 5 selected out of 16 companies
2025-12-17 18:22:27,649 - Review.reviews.efesp_review - INFO - Group 4 (ICB 502020): 5 selected out of 12 companies
2025-12-17 18:22:27,650 - Review.reviews.efesp_review - INFO - Group 5 (ICB 101010): 5 selected out of 14 companies
2025-12-17 18:22:27,651 - Review.reviews.efesp_review - INFO - Group 6 (ICB 502060): 5 selected out of 11 companies
2025-12-17 18:22:27,658 - Review.reviews.efesp_review - INFO - Total eligible companies: 91
2025-12-17 18:22:27,658 - Review.reviews.efesp_review - INFO - Total selected companies: 30
2025-12-17 18:22:27,658 - Review.reviews.efesp_review - INFO - Total selected FFMC: 1,645,320,656,217.95
2025-12-17 18:22:27,658 - Review.reviews.efesp_review - INFO - Weight sum check for selected companies: 1.000000
2025-12-17 18:22:27,664 - Review.reviews.efesp_review - INFO - Saving EFESP output to: C:\Users\CSonneveld\OneDrive - Euronext\Documents\Projects\GUI + Reviews\output\EFESP_df_20251217_182227.xlsx
2025-12-17 18:22:28,468 - werkzeug - INFO - 127.0.0.1 - - [17/Dec/2025 18:22:28] "GET /task-status/a8265f4f-abaf-4563-b067-768203066e3b HTTP/1.1" 200 -
