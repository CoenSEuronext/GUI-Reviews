2025-04-15 19:28:45,850 - werkzeug - WARNING -  * Debugger is active!
2025-04-15 19:28:45,850 - werkzeug - INFO -  * Debugger PIN: 691-175-853
2025-04-15 19:28:48,198 - Review.reviews.lc3wp_review - INFO - Loading EOD data...
2025-04-15 19:28:52,594 - Review.reviews.lc3wp_review - INFO - Loading reference data...
2025-04-15 19:29:02,233 - Review.reviews.lc3wp_review - WARNING - Removed 18750 duplicate rows from cdp_climate_df
2025-04-15 19:29:02,233 - Review.reviews.lc3wp_review - INFO - Adding Free Float data...
2025-04-15 19:29:02,266 - Review.reviews.lc3wp_review - INFO - Adding ICB Subsector data...
2025-04-15 19:29:02,314 - Review.reviews.lc3wp_review - WARNING - Removed 9314 duplicate rows from ICB data
2025-04-15 19:29:02,328 - Review.reviews.lc3wp_review - INFO - Adding CDP Climate data...
2025-04-15 19:29:02,332 - Review.reviews.lc3wp_review - INFO - Adding Oekom Trust & Carbon data...
2025-04-15 19:29:02,337 - Review.reviews.lc3wp_review - INFO - Adding NACE data...
2025-04-15 19:29:02,339 - Review.reviews.lc3wp_review - INFO - Adding EU Taxonomy flag...
2025-04-15 19:29:02,339 - Review.reviews.lc3wp_review - INFO - Checking GAFI lists and Non-fiscally cooperative countries...
2025-04-15 19:29:02,339 - Review.reviews.lc3wp_review - INFO - Applying exclusion criteria...
2025-04-15 19:29:02,355 - Review.reviews.lc3wp_review - INFO - Marked 149 companies (10%) with worst SG scores for exclusion
2025-04-15 19:29:02,371 - Review.reviews.lc3wp_review - INFO - Calculating Climate Score for ranking...
2025-04-15 19:29:02,375 - Review.reviews.lc3wp_review - INFO - Calculating median Carbon Intensity by Supersector excluding zero values...
2025-04-15 19:29:02,381 - Review.reviews.lc3wp_review - INFO - Calculated median Carbon Intensity for 20 supersectors, excluding zero values
2025-04-15 19:29:02,388 - Review.reviews.lc3wp_review - INFO - Created CI column combining company-specific and median carbon intensity values
2025-04-15 19:29:02,388 - Review.reviews.lc3wp_review - INFO - Calculated WACI: 498.58403295446817
2025-04-15 19:29:02,388 - Review.reviews.lc3wp_review - INFO - Selecting EU Taxonomy companies...
2025-04-15 19:29:02,388 - Review.reviews.lc3wp_review - INFO - Found 14 EU Taxonomy companies after exclusions
2025-04-15 19:29:02,388 - Review.reviews.lc3wp_review - INFO - Found 979 Non-EU Taxonomy eligible companies after exclusions
2025-04-15 19:29:02,388 - Review.reviews.lc3wp_review - INFO - STEP 4a: Determining target number of Non-EU Taxonomy companies per super-sector...
2025-04-15 19:29:02,388 - Review.reviews.lc3wp_review - INFO - Target number of Non-EU Taxonomy companies: 286
2025-04-15 19:29:02,388 - Review.reviews.lc3wp_review - INFO - Total eligible Non-EU Taxonomy companies: 979
2025-04-15 19:29:02,388 - Review.reviews.lc3wp_review - INFO - Total target after rounding: 295 (vs. target of 286)
2025-04-15 19:29:02,388 - Review.reviews.lc3wp_review - INFO - Need to remove 9 companies due to rounding up
2025-04-15 19:29:02,397 - Review.reviews.lc3wp_review - INFO - STEP 4b: Selecting Non-EU Taxonomy companies based on climate score...
2025-04-15 19:29:02,398 - Review.reviews.lc3wp_review - INFO - Selected 39 companies from super-sector 1010.0
2025-04-15 19:29:02,399 - Review.reviews.lc3wp_review - INFO - Selected 12 companies from super-sector 1510.0
2025-04-15 19:29:02,400 - Review.reviews.lc3wp_review - INFO - Selected 34 companies from super-sector 2010.0
2025-04-15 19:29:02,401 - Review.reviews.lc3wp_review - INFO - Selected 24 companies from super-sector 3010.0
2025-04-15 19:29:02,403 - Review.reviews.lc3wp_review - INFO - Selected 21 companies from super-sector 3020.0
2025-04-15 19:29:02,404 - Review.reviews.lc3wp_review - INFO - Selected 19 companies from super-sector 3030.0
2025-04-15 19:29:02,404 - Review.reviews.lc3wp_review - INFO - Selected 24 companies from super-sector 3510.0
2025-04-15 19:29:02,405 - Review.reviews.lc3wp_review - INFO - Selected 6 companies from super-sector 4010.0
2025-04-15 19:29:02,406 - Review.reviews.lc3wp_review - INFO - Selected 17 companies from super-sector 4020.0
2025-04-15 19:29:02,407 - Review.reviews.lc3wp_review - INFO - Selected 5 companies from super-sector 4030.0
2025-04-15 19:29:02,408 - Review.reviews.lc3wp_review - INFO - Selected 8 companies from super-sector 4040.0
2025-04-15 19:29:02,409 - Review.reviews.lc3wp_review - INFO - Selected 11 companies from super-sector 4050.0
2025-04-15 19:29:02,409 - Review.reviews.lc3wp_review - INFO - Selected 15 companies from super-sector 4510.0
2025-04-15 19:29:02,410 - Review.reviews.lc3wp_review - INFO - Selected 8 companies from super-sector 4520.0
2025-04-15 19:29:02,411 - Review.reviews.lc3wp_review - INFO - Selected 6 companies from super-sector 5010.0
2025-04-15 19:29:02,411 - Review.reviews.lc3wp_review - INFO - Selected 33 companies from super-sector 5020.0
2025-04-15 19:29:02,412 - Review.reviews.lc3wp_review - INFO - Selected 6 companies from super-sector 5510.0
2025-04-15 19:29:02,413 - Review.reviews.lc3wp_review - INFO - Selected 5 companies from super-sector 5520.0
2025-04-15 19:29:02,414 - Review.reviews.lc3wp_review - INFO - Selected 2 companies from super-sector 6510.0
2025-04-15 19:29:02,416 - Review.reviews.lc3wp_review - INFO - Initial selection has 295 companies, need to remove 9
2025-04-15 19:29:02,466 - Review.reviews.lc3wp_review - INFO - Removed company US38141G1040 from supersector 3020 (Climate Score: 2.75)
2025-04-15 19:29:02,476 - Review.reviews.lc3wp_review - INFO - Removed company AU000000ANZ3 from supersector 3010 (Climate Score: 2.75)
2025-04-15 19:29:02,482 - Review.reviews.lc3wp_review - INFO - Removed company CA0679011084 from supersector 5510 (Climate Score: 2.58973159003276)
2025-04-15 19:29:02,488 - Review.reviews.lc3wp_review - INFO - Removed company JP3539220008 from supersector 3030 (Climate Score: 2.5)
2025-04-15 19:29:02,494 - Review.reviews.lc3wp_review - INFO - Removed company US7475251036 from supersector 1010 (Climate Score: 2.30023900135313)
2025-04-15 19:29:02,499 - Review.reviews.lc3wp_review - INFO - Removed company US2538681030 from supersector 3510 (Climate Score: 2.26099033267267)
2025-04-15 19:29:02,505 - Review.reviews.lc3wp_review - INFO - Removed company JP3705200008 from supersector 4050 (Climate Score: 2.24552928645429)
2025-04-15 19:29:02,506 - Review.reviews.lc3wp_review - INFO - Removed company DE0005552004 from supersector 5020 (Climate Score: 2.220375488488155)
2025-04-15 19:29:02,515 - Review.reviews.lc3wp_review - INFO - Removed company US4595061015 from supersector 5520 (Climate Score: 2.2099302264427454)
2025-04-15 19:29:02,518 - Review.reviews.lc3wp_review - INFO - Final Non-EU Taxonomy selection has 286 companies
2025-04-15 19:29:02,518 - Review.reviews.lc3wp_review - INFO - Minimum companies per supersector: 2
2025-04-15 19:29:02,522 - Review.reviews.lc3wp_review - INFO - Final selection contains 300 companies
2025-04-15 19:29:02,522 - Review.reviews.lc3wp_review - INFO - - EU Taxonomy: 14
2025-04-15 19:29:02,522 - Review.reviews.lc3wp_review - INFO - - Non-EU Taxonomy: 286
2025-04-15 19:29:02,522 - Review.reviews.lc3wp_review - INFO - Adding PAB flag based on CDP temperature score...
2025-04-15 19:29:02,523 - Review.reviews.lc3wp_review - INFO - Calculating liquidity constraints for all companies...
2025-04-15 19:29:02,523 - Review.reviews.lc3wp_review - INFO - Total FFMC_WD for all companies: 10468631126780.40
2025-04-15 19:29:02,524 - Review.reviews.lc3wp_review - INFO - Market cap based weights calculated for EU Taxonomy companies
2025-04-15 19:29:02,526 - Review.reviews.lc3wp_review - INFO - Liquidity caps for EU Taxonomy companies - Max: 4.5085%, Min: 0.5432%, Avg: 1.7228%
2025-04-15 19:29:02,526 - Review.reviews.lc3wp_review - INFO - Liquidity floors for EU Taxonomy companies - Max: 0.0000%, Min: 0.0000%, Avg: 0.0000%
2025-04-15 19:29:02,526 - Review.reviews.lc3wp_review - INFO - No liquidity issues found for EU Taxonomy companies
2025-04-15 19:29:02,532 - Review.reviews.lc3wp_review - INFO - Liquidity constraints have been calculated for all 300 companies
2025-04-15 19:29:02,533 - Review.reviews.lc3wp_review - INFO - STEP 5: Implementing PAB weighting optimization procedure...
2025-04-15 19:29:02,533 - Review.reviews.lc3wp_review - ERROR - Error during weight optimization: No module named 'weight_optimization'
2025-04-15 19:29:02,535 - Review.reviews.lc3wp_review - ERROR - Traceback (most recent call last):
  File "C:\Users\CSonneveld\OneDrive - Euronext\Documents\Projects\GUI + Reviews\Review\reviews\lc3wp_review.py", line 964, in run_lc3wp_review
    from weight_optimization import optimize_weights
ModuleNotFoundError: No module named 'weight_optimization'

2025-04-15 19:29:02,535 - Review.reviews.lc3wp_review - WARNING - Using market cap weights as fallback due to optimization failure
2025-04-15 19:29:02,537 - Review.reviews.lc3wp_review - INFO - Calculated weighting factors based on optimized weights
2025-04-15 19:29:02,537 - Review.reviews.lc3wp_review - INFO - Final optimized WACI: 380.25 (target: < 150.72)
2025-04-15 19:29:02,538 - Review.reviews.lc3wp_review - WARNING - WACI reduction target not met: 380.25 > 150.72
2025-04-15 19:29:02,538 - Review.reviews.lc3wp_review - WARNING - Achieved only -26.14% reduction vs target of 50%
2025-04-15 19:29:02,538 - Review.reviews.lc3wp_review - INFO - EU Taxonomy pocket weight: 1.02% (target: 5-10%)
2025-04-15 19:29:02,538 - Review.reviews.lc3wp_review - WARNING - EU Taxonomy weight constraint not met: 1.02% outside target range 5-10%
2025-04-15 19:29:02,539 - werkzeug - INFO -  * Detected change in 'C:\\Program Files\\Python312\\Lib\\encodings\\cp1252.py', reloading
2025-04-15 19:29:02,553 - Review.reviews.lc3wp_review - WARNING - High Climate Impact weight constraint not met: 57.55% < 59.82%
2025-04-15 19:29:02,554 - werkzeug - INFO -  * Detected change in 'C:\\Users\\CSonneveld\\OneDrive - Euronext\\Documents\\Projects\\GUI + Reviews\\Review\\review_logic.py', reloading
2025-04-15 19:29:02,554 - werkzeug - INFO -  * Detected change in 'C:\\Users\\CSonneveld\\AppData\\Roaming\\Python\\Python312\\site-packages\\flask\\app.py', reloading
2025-04-15 19:29:02,555 - werkzeug - INFO -  * Detected change in 'C:\\Users\\CSonneveld\\AppData\\Roaming\\Python\\Python312\\site-packages\\werkzeug\\debug\\__init__.py', reloading
2025-04-15 19:29:02,555 - werkzeug - INFO -  * Detected change in 'C:\\Users\\CSonneveld\\AppData\\Roaming\\Python\\Python312\\site-packages\\werkzeug\\serving.py', reloading
2025-04-15 19:29:02,556 - werkzeug - INFO -  * Detected change in 'C:\\Program Files\\Python312\\Lib\\socketserver.py', reloading
2025-04-15 19:29:02,556 - Review.reviews.lc3wp_review - INFO - Companies with Paris Agreement Plan weight: 95.35% (target: > 85.57%)
2025-04-15 19:29:02,556 - werkzeug - INFO -  * Detected change in 'C:\\Program Files\\Python312\\Lib\\threading.py', reloading
2025-04-15 19:29:02,562 - Review.reviews.lc3wp_review - INFO - Saving output files...
